<div class="home-container" *ngIf="!electronService.isFullScreen()">

  <app-circle></app-circle>

  <div id="image-loading" *ngIf="isLoadingFolder()" class="loader"></div>

  <ng-container *ngIf="!isLoadingFolder()">
    <div class="top-container" [ngClass]="imagesSrc[indexImage.current]?.name ? 'button-container' : ''">
      <label id="label-file-upload" for="file-upload" class="home-button"
             [ngClass]="imagesSrc[indexImage.current]?.name ? 'preview' : ''">
        <ng-container *ngIf="!imagesSrc[indexImage.current]?.name">
          {{'PAGES.HOME.LABEL_UPLOAD_FILE' | translate}}
        </ng-container>
        <ng-container *ngIf="imagesSrc[indexImage.current]?.name">
          {{'PAGES.HOME.LABEL_UPLOAD_OTHER_FILE' | translate}}
        </ng-container>
      </label>
      <input id="file-upload" type="file" (change)="selectFolder($event)"/>
    </div>

    <ng-container *ngIf="imagesSrc[indexImage.current]?.name">

      <div class="preview-container">
        <div class="image-container">
          <img class="previous-image" [alt]="'PAGES.HOME.IMAGE_CURRENT_ALT' | translate"
               [src]="imagesSrc[indexImage.previous]?.name"/>
          {{'PAGES.HOME.IMAGE_PREVIOUS' | translate}}
          <p>{{imagesSrc[indexImage.previous]?.time | date: dateFormat}}</p>
          <p>{{indexImage.previous}}</p>
        </div>

        <div class="image-container">
          <img class="current-image" [alt]="'PAGES.HOME.IMAGE_CURRENT_ALT' | translate"
               [src]="imagesSrc[indexImage.current]?.name"/>
          {{'PAGES.HOME.IMAGE_CURRENT' | translate}}
          <p>{{imagesSrc[indexImage.current]?.time | date: dateFormat}}</p>
          <p>{{indexImage.current}}</p>
        </div>

        <div class="image-container">
          <img class="next-image" [alt]="'PAGES.HOME.IMAGE_CURRENT_ALT' | translate"
               [src]="imagesSrc[indexImage.next].name"/>
          {{'PAGES.HOME.IMAGE_NEXT' | translate}}
          <p>{{imagesSrc[indexImage.next]?.time | date: dateFormat}}</p>
          <p>{{indexImage.next}}</p>
        </div>

      </div>

      <div *ngIf="isSlideshowRunning()" (click)="stopSlideshow()"
           class="home-button pause-button preview">
        {{'PAGES.HOME.SLIDESHOW.PAUSE' | translate}}
      </div>

      <div *ngIf="isSlideshowStopped()" (click)="startShowingSlideshow(false)"
           class="home-button start-button preview">
        {{'PAGES.HOME.SLIDESHOW.START' | translate}}
      </div>

      <div (click)="startShowingSlideshow(true)"
           class="home-button fullscreen-button preview">
        {{'PAGES.HOME.FULLSCREEN' | translate}}
      </div>

      <div class="container-speed-slideshow">
        <label for="speed-slideshow"
               class="label-speed-slideshow">{{'PAGES.HOME.LABEL_SPEED_SLIDESHOW' | translate}}</label>
        <input id="speed-slideshow" class="input-speed-slideshow" type="number" (input)="setSpeedSlideShow($event)"
               [(ngModel)]="slideShow.speedSeconds">
        <span class="bar"></span>
      </div>

      <div class="switch-container">
        <span class="switch-label">{{'PAGES.HOME.LABEL_SORTING' | translate}}</span>
        <span class="switch-sorting">{{slideShow.sortingState.valueOf()}}</span>
        <label class="switch">
          <input type="checkbox" (click)="inverseSorting()">
          <span class="slider round"></span>
        </label>
      </div>

    </ng-container>
  </ng-container>

</div>

<div id="image-fullscreen" *ngIf="electronService.isFullScreen()" class="fullscreen-container">
  <img class="fullscreen-current-image" [alt]="'PAGES.HOME.IMAGE_CURRENT_ALT' | translate"
       [src]="imagesSrc[indexImage.current]?.name"/>
</div>
